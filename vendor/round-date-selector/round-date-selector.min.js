var CircleSlider={v1:0,v2:0,canvas:null,container:null,cOut:null,cIn:null,label:null,input:null,arcCanvas:null,arcWidth:2,R1:80,cX1:100,cY1:100,R2:60,cX2:110,cY2:110,value:null,inDrag:!1,dragCircle:null,dragPointDistance:15,drag:function(t,i){var s=t-this.cX1,a=i-this.cY1,h=Math.sqrt(s*s+a*a),e=this.cX1+s/h*this.R1,r=this.cX1+a/h*this.R1,n=(s=t-e,a=i-r,Math.sqrt(s*s+a*a)),c=180*Math.acos((this.cY1-r)/this.R1)/Math.PI;e<this.cX1&&(c=360-c);s=t-this.cX2,a=i-this.cY2,h=Math.sqrt(s*s+a*a);var o=this.cX2+s/h*this.R2,l=this.cY2+a/h*this.R2,d=(s=t-o,a=i-l,Math.sqrt(s*s+a*a)),u=180*Math.acos((this.cY2-l)/this.R2)/Math.PI;return o<this.cX2&&(u=360-u),Object.assign({aX1:e,aY1:r,aX2:o,aY2:l,a:c,b:u,d1:n,d2:d})},adjustInnerPointer:function(t,i){var s=this.cX2-this.R2*Math.cos(t/i*360/180*Math.PI),a=this.cY2+this.R2*Math.sin(t/i*360/180*Math.PI);this.setInnerPointer(s,a)},adjustOuterPointer:function(t,i){var s=this.cX1-this.R1*Math.cos(t/i*360/180*Math.PI),a=this.cY1+this.R1*Math.sin(t/i*360/180*Math.PI);this.setOuterPointer(s,a)},setInnerPointer:function(t,i){this.cIn.style.marginTop=t-15+"px",this.cIn.style.marginLeft=i-15+"px"},setOuterPointer:function(t,i){this.cOut.style.marginTop=t-5+"px",this.cOut.style.marginLeft=i-5+"px"},drawArc:function(t,i,s,a,h,e){var r=t.getContext("2d");r.beginPath(),r.strokeStyle=e,r.arc(i,s,a,1.5*Math.PI,h*Math.PI/180+1.5*Math.PI,!1),r.lineWidth=this.arcWidth,r.stroke()},drawInnerArc:function(t,i,s,a,h,e){this.drawArc(t,i-5,s-5,a,h-5,e)},drawOuterArc:function(t,i,s,a,h,e){this.drawArc(t,i+5,s+5,a,h-5,e)},clearCanvasArc:function(t){t.getContext("2d").clearRect(0,0,this.arcCanvas.width,this.arcCanvas.height)},onMove:function(t){},onChange:function(t){}},ClockSliderObject=Object.assign({max1:24,max2:60,hour:0,minute:0,format:"H:M",c1slidecolor:"rgba(56, 131, 37, 1)",c2slidecolor:"rgba(194, 25, 25, 1)",init:function(t){for(var i of(this.container=document.getElementById(t),this.container.children)){if("circles-selector"==i.className){for(var s of i.children)"pointer_hours"==s.className.baseVal&&(this.cOut=s),"pointer_minutes"==s.className.baseVal&&(this.cIn=s),"arc_canvas"==s.className&&(this.arcCanvas=s);this.canvas=i}"clock"==i.className&&(this.label=i),"clock-input"==i.className&&(this.input=i)}if(this.hour=parseInt(this.container.dataset.hour),this.minute=parseInt(this.container.dataset.minute),null!=this.start){var a=new Date("1970-01-01 "+this.start);this.hour=a.getHours(),this.minute=a.getMinutes()}this.v1=this.hour,this.v2=this.minute,this.adjustOuterPointer(this.v1,this.max1),this.adjustInnerPointer(this.v2,this.max2),this.drawOuterArc(this.arcCanvas,this.cX1,this.cY1,this.R1,this.hour/this.max1*360,this.c1slidecolor),this.drawInnerArc(this.arcCanvas,this.cX2,this.cY2,this.R2,this.minute/this.max2*360,this.c2slidecolor),this.updateScreenValues(!1);var h=this;return this.canvas.addEventListener("mousedown",function(t){h.dragStart(t)}),this.canvas.addEventListener("touchstart",function(t){h.dragStart(t)}),this.canvas.addEventListener("mouseup",function(t){h.drageEnd(t)}),this.canvas.addEventListener("mouseleave",function(t){h.drageEnd(t)}),this.canvas.addEventListener("touchend",function(t){h.drageEnd(t)}),this.canvas.addEventListener("mousemove",function(t){h.dragMove(t)}),this.canvas.addEventListener("touchmove",function(t){h.dragMove(t),t.preventDefault()}),this},update:function(){this.clearCanvasArc(this.arcCanvas),this.adjustOuterPointer(this.hour,this.max1),this.adjustInnerPointer(this.minute,this.max2),this.drawOuterArc(this.arcCanvas,this.cX1,this.cY1,this.R1,this.hour/this.max1*360,this.c1slidecolor),this.drawInnerArc(this.arcCanvas,this.cX2,this.cY2,this.R2,this.minute/this.max2*360,this.c2slidecolor),this.updateScreenValues()},dragStart:function(t){this.inDrag=!0},dragMove:function(t){if(this.inDrag){if(t.value=this.value,t.hour=this.v1,t.minute=this.v2,this.onMove(t),t.defaultPrevented)return;if(null!=t.clientX&&null!=t.clientY)var i=t.clientX,s=t.clientY;else i=t.touches[0].clientX,s=t.touches[0].clientY;var a=this.canvas.getBoundingClientRect();i-=a.left,s-=a.top,this.dragCirclePointer(i,s)}},drageEnd:function(t){this.inDrag=!1,this.dragCircle=null,t.value=this.value,t.hour=this.v1,t.minute=this.v2,this.onChange(t)},dragCirclePointer:function(t,i){var s=this.drag(t,i);if(s.d1<s.d2&&s.d1<this.dragPointDistance){if(2==this.dragCircle&&this.inDrag)return this.dragCircle=null,void(this.inDrag=!1);this.dragCircle=1,this.v1=parseInt(s.a*this.max1/360),this.hour=this.v1,this.v2=this.minute,this.setOuterPointer(s.aY1,s.aX1),this.adjustInnerPointer(this.v2,this.max2),this.clearCanvasArc(this.arcCanvas),this.drawOuterArc(this.arcCanvas,this.cX1,this.cX1,this.R1,s.a,this.c1slidecolor),this.drawInnerArc(this.arcCanvas,this.cX2,this.cY2,this.R2,this.v2/this.max2*360,this.c2slidecolor),this.updateScreenValues()}else if(s.d2<this.dragPointDistance){if(1==this.dragCircle&&this.inDrag)return this.dragCircle=null,void(this.inDrag=!1);this.dragCircle=2,this.v2=parseInt(s.b*this.max2/360),this.minute=this.v2,this.v1=this.hour,this.setInnerPointer(s.aY2,s.aX2),this.adjustOuterPointer(this.v1,this.max1),this.clearCanvasArc(this.arcCanvas),this.drawOuterArc(this.arcCanvas,this.cX1,this.cX1,this.R1,this.v1/this.max1*360,this.c1slidecolor),this.drawInnerArc(this.arcCanvas,this.cX2,this.cY2,this.R2,s.b,this.c2slidecolor),this.updateScreenValues()}},updateScreenValues:function(t=!0){var i=this.format,s=this.hour.toString().length<2?"0"+this.hour:this.hour,a=this.minute.toString().length<2?"0"+this.minute:this.minute;this.hour=s,this.minute=a,i=this.formatTime(this.format,this.hour,this.minute),this.label.innerHTML=i,this.value=i,t&&(this.input.value=i)},formatTime:function(t,i,s){var a={H:i,M:s};return t.replace(new RegExp(Object.keys(a).join("|"),"g"),function(t){return a[t]})}},CircleSlider),DateSliderObject=Object.assign({max1:12,max2:31,max3:50,v3:0,cTh:null,R3:40,cX3:110,cY3:110,cThRounds:0,dragCircle:null,months:[],days:[],cMonthMax:null,cMonthName:null,locale:["en-GB",{weekday:"short",year:"numeric",month:"short",day:"numeric"}],day:1,month:1,year:1970,date:new Date("2017-01-01"),format:"",c1slidecolor:"rgb(255, 209, 26)",c2slidecolor:"rgba(37, 24, 216, 1)",c3slidecolor:"rgb(84, 104, 121)",dragTh:function(t,i){var s=t-this.cX3,a=i-this.cY3,h=Math.sqrt(s*s+a*a),e=this.cX3+s/h*this.R3,r=this.cY3+a/h*this.R3,n=(s=t-e,a=i-r,Math.sqrt(s*s+a*a)),c=180*Math.acos((this.cY3-r)/this.R3)/Math.PI;return e<this.cX3&&(c=360-c),Object.assign(CircleSlider.drag(t,i),{aX3:e,aY3:r,c:c,d3:n})},adjustThPointer:function(t,i){var s=this.cX3-this.R3*Math.cos(t/i*360/180*Math.PI),a=this.cY3+this.R3*Math.sin(t/i*360/180*Math.PI);this.setThPointer(s,a)},setThPointer:function(t,i){this.cTh.style.marginTop=t-15+"px",this.cTh.style.marginLeft=i-15+"px"},drawThArc:function(t,i,s,a,h,e){this.drawArc(t,i-5,s-5,a,h-5,e)},init:function(t){for(var i of(this.container=document.getElementById(t),this.container.children)){if("circles-selector"==i.className){for(eli of i.children){if("round-circles"==eli.className.baseVal)for(var s of eli.children)"month-days"==s.className.baseVal&&(this.cMonthMax=s),"month-name"==s.className.baseVal&&(this.cMonthName=s);"pointer_months"==eli.className.baseVal&&(this.cOut=eli),"pointer_days"==eli.className.baseVal&&(this.cIn=eli),"pointer_years"==eli.className.baseVal&&(this.cTh=eli),"arc_canvas"==eli.className&&(this.arcCanvas=eli)}this.canvas=i}"date"==i.className&&(this.label=i),"date-input"==i.className&&(this.input=i)}if(this.year=parseInt(this.container.dataset.year),this.month=parseInt(this.container.dataset.month)-1,this.day=parseInt(this.container.dataset.day),null!=this.start){var a=new Date(this.start);this.month=a.getMonth(),this.day=a.getDate(),this.year=a.getFullYear()}for(var h=0;h<7;h++)this.days[h]={name:this.date.toLocaleString(this.locale[0],{weekday:"long"}),sName:this.date.toLocaleString(this.locale[0],{weekday:"short"})},this.date.setDate(this.date.getDate()+1);this.date.setYear(this.year);for(h=0;h<12;h++)this.date.setMonth(h+1,0),this.months[h]={name:this.date.toLocaleString(this.locale[0],{month:"long"}),sName:this.date.toLocaleString(this.locale[0],{month:"short"}),days:this.date.getDate()};this.v1=this.month,this.v2=this.day,this.v3=this.year%this.max3,this.cThRounds=parseInt(this.year/this.max3),this.max2=this.months[this.month].days,this.adjustOuterPointer(this.month,this.max1),this.adjustInnerPointer(this.day,this.max2),this.adjustThPointer(this.year,this.max3),this.clearCanvasArc(this.arcCanvas),this.drawOuterArc(this.arcCanvas,this.cX1,this.cY1,this.R1,this.month/this.max1*360,this.c1slidecolor),this.drawInnerArc(this.arcCanvas,this.cX2,this.cY2,this.R2,this.day/this.max2*360,this.c2slidecolor),this.drawThArc(this.arcCanvas,this.cX3,this.cY3,this.R3,this.year%this.max3/this.max3*360,this.c3slidecolor),this.updateScreenValues(!1);var e=this;return this.canvas.addEventListener("mousedown",function(t){e.dragStart(t)}),this.canvas.addEventListener("touchstart",function(t){e.dragStart(t)}),this.canvas.addEventListener("mouseup",function(t){e.drageEnd(t)}),this.canvas.addEventListener("mouseleave",function(t){e.drageEnd(t)}),this.canvas.addEventListener("touchend",function(t){e.drageEnd(t)}),this.canvas.addEventListener("mousemove",function(t){e.dragMove(t)}),this.canvas.addEventListener("touchmove",function(t){e.dragMove(t),t.preventDefault()}),this},update:function(){this.v2=this.day,this.v1=this.month,this.clearCanvasArc(this.arcCanvas),this.adjustOuterPointer(this.month,this.max1),this.adjustInnerPointer(this.day,this.max2),this.adjustThPointer(this.year,this.max3),this.clearCanvasArc(this.arcCanvas),this.drawOuterArc(this.arcCanvas,this.cX1,this.cY1,this.R1,this.month/this.max1*360,this.c1slidecolor),this.drawInnerArc(this.arcCanvas,this.cX2,this.cY2,this.R2,this.day/this.max2*360,this.c2slidecolor),this.drawThArc(this.arcCanvas,this.cX3,this.cY3,this.R3,this.year%this.max3/this.max3*360,this.c3slidecolor),this.updateScreenValues()},dragStart:function(t){this.inDrag=!0},dragMove:function(t){if(this.inDrag){if(t.value=this.value,t.day=this.day,t.month=this.month,t.year=this.year,this.onMove(t),t.defaultPrevented)return;if(null!=t.clientX&&null!=t.clientY)var i=t.clientX,s=t.clientY;else i=t.touches[0].clientX,s=t.touches[0].clientY;var a=this.canvas.getBoundingClientRect();i-=a.left,s-=a.top,this.dragCirclePointer(i,s)}},drageEnd:function(t){this.inDrag=!1,this.dragCircle=null,t.value=this.value,t.day=this.day,t.month=this.month,t.year=this.year,this.onChange(t)},dragCirclePointer:function(t,i){var s=this.dragTh(t,i);if(s.d2>s.d1&&s.d3>s.d1<this.dragPointDistance){if(1!=this.dragCircle&&null!=this.dragCircle&&this.inDrag)return this.dragCircle=null,void(this.inDrag=!1);this.dragCircle=1,this.v1=parseInt(s.a*this.max1/360),this.max2=this.months[this.v1].days,this.v2>this.max2&&(this.v2=this.max2),this.day=this.v2,this.month=this.v1,this.adjustInnerPointer(this.v2,this.max2),this.setOuterPointer(s.aY1,s.aX1),this.adjustThPointer(this.v3,this.max3),this.updateScreenValues(),this.clearCanvasArc(this.arcCanvas),this.drawOuterArc(this.arcCanvas,this.cX1,this.cX1,this.R1,s.a,this.c1slidecolor),this.drawInnerArc(this.arcCanvas,this.cX2,this.cY2,this.R2,this.v2/this.max2*360,this.c2slidecolor),this.drawThArc(this.arcCanvas,this.cX3,this.cY3,this.R3,this.year%this.max3/this.max3*360,this.c3slidecolor)}else if(s.d1>s.d2&&s.d3>s.d2&&s.d2<this.dragPointDistance){if(2!=this.dragCircle&&null!=this.dragCircle&&this.inDrag)return this.dragCircle=null,void(this.inDrag=!1);this.dragCircle=2,this.v2=parseInt(s.b*this.max2/360)+1,this.day=this.v2,this.month=this.v1,this.setInnerPointer(s.aY2,s.aX2),this.adjustOuterPointer(this.v1,this.max1),this.adjustThPointer(this.v3,this.max3),this.updateScreenValues(),this.clearCanvasArc(this.arcCanvas),this.drawOuterArc(this.arcCanvas,this.cX1,this.cX1,this.R1,this.v1/this.max1*360,this.c1slidecolor),this.drawInnerArc(this.arcCanvas,this.cX2,this.cY2,this.R2,s.b,this.c2slidecolor),this.drawThArc(this.arcCanvas,this.cX3,this.cY3,this.R3,this.year%this.max3/this.max3*360,this.c3slidecolor)}else if(s.d1>s.d3&&s.d2>s.d3&&s.d3<this.dragPointDistance){if(3!=this.dragCircle&&null!=this.dragCircle&&this.inDrag)return this.dragCircle=null,void(this.inDrag=!1);this.dragCircle=3,this.v3/this.max3*360-parseInt(s.c)>180&&this.cThRounds++,this.v3/this.max3*360-parseInt(s.c)<-180&&this.cThRounds--,this.v3=parseInt(s.c*this.max3/360),this.year=this.v3+this.max3*this.cThRounds,this.year%4==0?this.months[1].days=29:this.year%4!=1&&this.year%4!=3||(this.months[1].days=28),1==this.month&&(this.max2=this.months[this.month].days),this.day>this.max2&&(this.day=this.max2),this.day=this.v2,this.month=this.v1,this.setInnerPointer(this.v2,this.max2),this.setThPointer(s.aY3,s.aX3),this.adjustOuterPointer(this.v1,this.max1),this.adjustInnerPointer(this.v2,this.max2),this.updateScreenValues(),this.clearCanvasArc(this.arcCanvas),this.drawOuterArc(this.arcCanvas,this.cX1,this.cX1,this.R1,this.v1/this.max1*360,this.c1slidecolor),this.drawInnerArc(this.arcCanvas,this.cX2,this.cY2,this.R2,this.v2/this.max2*360,this.c2slidecolor),this.drawThArc(this.arcCanvas,this.cX3,this.cY3,this.R3,s.c,this.c3slidecolor)}},updateScreenValues:function(t=!0){var i=(this.month+1).toString().length<2?"0"+(this.month+1):this.month+1,s=this.day.toString().length<2?"0"+this.day:this.day;this.year>9999&&(this.year=9999);for(var a=4-this.year.toString().length,h=0;h<a;h++)this.year="0"+this.year;this.date=new Date(this.year+"-"+i+"-"+s);var e=this.format,r=this.months[this.month].sName;null!=this.locale&&""==this.format&&(e=this.date.toLocaleDateString(this.locale[0],this.locale[1])),""!=this.format&&(e=this.formatDate(e,s,i,this.year)),this.cMonthMax.innerHTML=this.max2,this.cMonthName.innerHTML=r,this.label.innerHTML=e,this.value=e,t&&(this.input.value=this.formatDate("y-m-d",s,i,this.year))},formatDate:function(t,i,s,a){var h=new Date(a+"-"+s+"-"+i),e={d:i,a:this.days[h.getDay()].sName,A:this.days[h.getDay()].name,b:this.months[s-1].sName,B:this.months[s-1].name,m:s,y:a};return t.replace(new RegExp(Object.keys(e).join("|"),"g"),function(t){return e[t]})}},CircleSlider);function ClockSlider(t,i={}){return Object.create(Object.assign(ClockSliderObject,i)).init(t)}function DateSlider(t,i={}){return Object.create(Object.assign(DateSliderObject,i)).init(t)}